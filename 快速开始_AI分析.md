# 🚀 AI智能分析快速开始

## 一、准备工作(5分钟)

### 1. 获取API密钥

访问: **https://open.bigmodel.cn**

1. 注册/登录智谱AI账号
2. 进入控制台 → API Keys
3. 点击"创建新的API密钥"
4. 复制生成的密钥(类似: `abcd1234.efgh5678ijklmnop...`)

> 💡 新用户有免费额度,足够测试使用

---

## 二、配置密钥(2分钟)

### 方法1️⃣: 使用配置脚本(推荐)

**PowerShell**:
```powershell
.\设置AI密钥.ps1
```

**Windows CMD**:
```cmd
设置AI密钥.bat
```

按提示输入密钥即可。

### 方法2️⃣: 手动配置

**PowerShell**(管理员):
```powershell
[System.Environment]::SetEnvironmentVariable("ZHIPU_API_KEY", "你的密钥", "User")
```

**Windows CMD**(管理员):
```cmd
setx ZHIPU_API_KEY "你的密钥"
```

### ⚠️ 重要: 重启VS Code

配置后必须**重启VS Code**才能生效!

---

## 三、测试功能(1分钟)

```bash
.\.venv\Scripts\python.exe test_ai_analyzer.py
```

**成功输出**:
```
✅ API密钥已配置: abcd1234...mnop
✅ AI模块导入成功
✅ AI分析器初始化成功
✅ 所有测试通过! AI分析器工作正常
```

**如果失败**:
- ❌ "未设置ZHIPU_API_KEY" → 检查环境变量配置
- ❌ "API调用失败" → 检查网络连接或密钥是否有效

---

## 四、启动Dashboard(1分钟)

### 方式A: 使用专用启动脚本

```bash
.\启动Dashboard_带AI.bat
```

自动检测并安装依赖,一键启动。

### 方式B: 手动启动

```bash
.\.venv\Scripts\python.exe dashboard_v2.py
```

---

## 五、使用AI分析(30秒)

1. 打开浏览器: **http://localhost:8055**

2. 滚动到**页面最底部**

3. 看到紫色渐变背景的"**🤖 AI智能分析**"区域

4. 点击"**开始智能分析**"按钮

5. 等待10-30秒(显示进度提示)

6. 查看AI生成的**分析报告**

---

## 六、AI分析报告包含什么?

✅ **整体经营诊断**
- 运营健康度评分
- 关键指标异常识别
- 风险预警

✅ **品类结构分析**
- 各品类贡献度
- 优化建议

✅ **定价策略建议**
- 价格带分布分析
- 促销力度评估
- 客单价提升方案

✅ **库存与动销优化**
- 滞销商品处理
- 库存周转改善

✅ **商品运营策略**
- 爆品打造建议
- SKU优化方案

✅ **具体行动计划**
- 近期(1周): 3-5个措施
- 中期(1月): 优化方向
- 长期(季度): 战略调整

---

## 七、常见问题

### Q: 点击按钮后提示"AI分析器未就绪"?

**A**: API密钥未正确配置

1. 检查环境变量: `echo %ZHIPU_API_KEY%`
2. 运行测试: `python test_ai_analyzer.py`
3. 重启VS Code

### Q: 分析时间过长(>60秒)?

**A**: 网络问题或API繁忙

1. 检查网络连接
2. 稍后重试
3. 查看浏览器Console是否有错误

### Q: 使用AI分析收费吗?

**A**: 按量计费,成本极低

- 新用户有免费额度
- 每次分析约**0.001元**(不到1分钱)
- 每天分析10次 = **0.01元**
- 每月分析300次 = **0.3元**

### Q: API密钥安全吗?

**A**: 安全

- ✅ 存储在系统环境变量
- ✅ 不出现在代码中
- ✅ 其他程序无法访问
- ⚠️ 不要分享给其他人

---

## 八、进阶使用

### 针对特定分类分析

1. 在页面顶部"**🔍 一级分类筛选**"中选择分类
2. 例如只选"饮品"和"零食"
3. 然后点击"开始智能分析"
4. AI会针对这两个分类进行**专项深度分析**

### 调整分析温度

编辑`dashboard_v2.py`:

```python
# 更精准(温度降低,0.3-0.5)
temperature=0.4

# 更有创造性(温度提高,0.8-0.9)
temperature=0.9
```

---

## 九、文件清单

| 文件 | 说明 |
|------|------|
| `dashboard_v2.py` | Dashboard主程序(已集成AI) |
| `ai_analyzer.py` | AI分析器核心模块 |
| `ai_business_context.py` | 业务知识库 |
| `设置AI密钥.ps1` / `.bat` | 密钥配置脚本 |
| `test_ai_analyzer.py` | AI功能测试 |
| `启动Dashboard_带AI.bat` | 一键启动 |
| `AI智能分析使用指南.md` | 完整文档 |
| `GLM-4集成完成报告.md` | 技术报告 |

---

## 十、获取帮助

如遇问题:

1. 查看`AI智能分析使用指南.md` - 完整文档
2. 运行`test_ai_analyzer.py` - 诊断问题
3. 查看浏览器Console - 查看错误
4. 查看智谱AI控制台 - 检查API调用记录

---

## ⏱️ 总计时间

- 获取密钥: **5分钟**
- 配置密钥: **2分钟**
- 测试功能: **1分钟**
- 启动使用: **1分钟**

**总计: 不到10分钟!** 🎉

---

**版本**: v1.0  
**模型**: GLM-4-Flash  
**成本**: ~¥0.001/次  
**更新**: 2025-01

🚀 **现在就开始使用AI智能分析吧!**
